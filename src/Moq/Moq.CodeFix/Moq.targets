<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <ItemGroup>
    <!-- Include generated mocks from intermediate output -->
    <Compile Include="$(IntermediateOutputPath)Mocks/*$(DefaultLanguageSourceExtension)">
      <Visible>false</Visible>
      <IsIntermediateCodeGen>true</IsIntermediateCodeGen>
    </Compile>
    <!-- Ensure nuget-linked source content files are not shown in the project -->
    <Compile Update="$(NuGetPackageRoot)moq/*/contentFiles/**/*$(DefaultLanguageSourceExtension)">
      <Visible>false</Visible>
      <Link />
    </Compile>
    <IntermediateCodeGenPath Include="$(IntermediateOutputPath)Mocks/" />

  </ItemGroup>

  <Target Name="AddMoqCodeFixAnalyzers" BeforeTargets="CollectAnalyzersDesignTime">
    <ItemGroup>
      <!-- CodeFix analyzers should only be added to DTBs since they depend on 
         editor features that are not available from csc/vbc -->
      <Analyzer Include="@(CodeFix)" />
    </ItemGroup>
  </Target>

</Project>
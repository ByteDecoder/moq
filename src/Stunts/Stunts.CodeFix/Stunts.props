<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup>
    <UsesStunts>true</UsesStunts>
  </PropertyGroup>

  <ItemGroup>
    <!-- Auto-generate stunts flagged by these two analyers. -->
    <AutoCodeFix Include="ST001;ST002" />

    <!-- CodeFix analyzers should only be added to DTBs since they depend on 
         editor features that are not available from csc/vbc -->
    <CodeFix Include="$(MSBuildThisFileDirectory)Stunts.Sdk.dll" />
    <CodeFix Include="$(MSBuildThisFileDirectory)Stunts.CodeFix.dll" />
  </ItemGroup>

  <ItemGroup>
    <!-- Include generated stunts from intermediate output -->
    <Compile Include="$(IntermediateOutputPath)Stunts/*$(DefaultLanguageSourceExtension)">
      <!-- Even with this metadata, the obj/Debug/... folder structure is shown :( -->
      <Visible>false</Visible>
      <!-- We basically need to link to outside the project cone -->
      <Link>../Mocks/%(RecursiveDir)%(Filename)%(Extension)</Link>
      <IsIntermediateCodeGen>true</IsIntermediateCodeGen>
    </Compile>
    <!-- Ensure nuget-linked source content files are not shown in the project -->
    <Compile Update="$(NuGetPackageRoot)stunts/*/contentFiles/**/*$(DefaultLanguageSourceExtension)">
      <!-- Since these are not under the project directory, without a link, they do dissapear -->
      <Visible>false</Visible>
      <Link />
    </Compile>
    <IntermediateCodeGenPath Include="$(IntermediateOutputPath)Stunts/" />
  </ItemGroup>


</Project>